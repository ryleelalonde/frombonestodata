<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Walk Down Memory Lane</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link href="styles.css" rel="stylesheet" />
    
    <!--Leaflet-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster-src.js"></script>

    <!-- Time Slider -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.js"></script>

    <style>
        #map {
            position: absolute;
            height: 85vh;
            width: 100%;
        }
        #slider-container {
            position: absolute;
            bottom: 20px;
            left: 10%;
            width: 80%;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <!--Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
        <div class="container px-5">
            <a class="navbar-brand" href="#page-top"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">About</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="model.html" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                          Models
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="humerus.html">Humerus</a></li>
                            <li><a class="dropdown-item" href="radius.html">Radius</a></li>
                            <li><a class="dropdown-item" href="ulna.html">Ulna</a></li>
                            <li><a class="dropdown-item" href="oscoxae.html">Os Coxae</a></li>
                            <li><a class="dropdown-item" href="femur.html">Femur</a></li>
                            <li><a class="dropdown-item" href="tibia.html">Tibia</a></li>
                          </ul>
                        </li>
                          </li>
                      <li class="nav-item"><a class="nav-link" href="reference.html">References</a></li>
                      <li class="nav-item"><a class="nav-link" href="map.html">Map</a></li>
                  </ul>
              </div>
          </div>
      </nav>
    <!-- Your map container -->
    <div id="map" style="height: 600px;"></div>

    <!-- Time slider -->
    <div id="time-slider"></div>

    <!-- Your custom script to initialize map and time slider -->
    <script>
        // Initialize map centered on the United States
        const map = L.map('map').setView([37.0902, -95.7129], 4); // Centered on US, zoomed out a bit

        // Add a tile layer to the map
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Initialize Marker Cluster
        const markers = L.markerClusterGroup();

        // Add sample markers (add your own logic to load data here)
        L.marker([51.5, -0.09]).bindPopup('Sample Marker 1').addTo(markers);
        L.marker([51.51, -0.1]).bindPopup('Sample Marker 2').addTo(markers);

        // Add markers to map
        map.addLayer(markers);

        // Initialize Time Slider
        const slider = document.getElementById('time-slider');
        noUiSlider.create(slider, {
            start: [10],
            range: {
                'min': [0],
                'max': [100]
            }
        });

        // Add event listener for time slider (update map, markers, etc.)
        slider.noUiSlider.on('update', function (values, handle) {
            console.log('Slider value: ', values[handle]);
            // Implement logic to update map based on time slider (e.g., filter markers by time)
        });
    </script>
</body>
</html>